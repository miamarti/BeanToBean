var BeanToBean={form:function(a){this.str=this.id="";this.obj={};this.constructor(a)}};
BeanToBean.form.prototype={changeListener:!1,map:void 0,constructor:function(a){var e=this,c=document.getElementById(a);"[object HTMLFormElement]"==c.toString()&&(e.changeListener=!0,c.addEventListener("submit",function(a){e.callback();a.preventDefault();return!1},!1));this.id=a},getMap:function(){void 0==this.map&&(this.map=document.querySelectorAll("#"+this.id+" [data-attribute], #"+this.id+" [data-bean], #"+this.id+" [data-attribute] option, #"+this.id+" [data-bean] option"));return this.map},
htmlEntities:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},reload:function(){var a=this,e="",c={};[].map.call(this.getMap(),function(b){if("[object HTMLSelectElement]"!=b.toString()){var d,f;"[object HTMLOptionElement]"==b.toString()?b.selected&&(d=b.parentNode.dataset.bean,f=encodeURIComponent(a.htmlEntities(b.value)),e+=d+"="+encodeURIComponent(escape(f))+"&",b.parentNode.multiple?(void 0==c[d]&&(c[d]=[]),c[d].push(f)):c[d]=
f):(d=b.dataset.bean,f=encodeURIComponent(a.htmlEntities("checkbox"==b.type?b.checked?b.value:"":b.value)),e+=d+"="+encodeURIComponent(escape(f))+"&",c[d]=f)}a.changeListener||b.addEventListener("change",a.callback,!1)});a.changeListener=!0;this.str=e;this.obj=c},toString:function(){this.reload();return this.str},toObject:function(){this.reload();return this.obj},callback:function(){return this},setCallback:function(a){this.callback=a;this.reload()}};BeanToBean.prototype={set:function(a){console.log(a)}};
